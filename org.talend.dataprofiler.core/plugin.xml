<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension-point id="dataprofilerperspectives" name="Dataprofiler Perspectives" schema="schema/Dataprofilerperspectives.exsd"/>
     
     <extension
         point="org.eclipse.ui.views">
         <category
            id="org.talend.dataprofiler.view.category"
            name="Dataprofiler"/>         
      <view
            allowMultiple="false"
            category="org.talend.dataprofiler.view.category"
            class="org.talend.dataprofiler.core.ui.views.CheatSheetView"
            id="org.talend.dataprofiler.core.ui.views.CheatSheetView"
            name="Cheat Sheet">
      </view>
      <view
            allowMultiple="false"
            category="org.talend.dataprofiler.view.category"
            class="org.talend.dataprofiler.core.ui.views.DQRespositoryView"
            id="org.talend.dataprofiler.core.ui.views.DQRespositoryView"
            name="DQ Repository">
      </view>
      <view
            category="org.talend.dataprofiler.view.category"
            class="org.talend.dataprofiler.core.ui.views.GraphsView"
            id="org.talend.dataprofiler.core.ui.views.GraphsView"
            name="Graphs"/>
      <view
            allowMultiple="false"
            category="org.talend.dataprofiler.view.category"
            class="org.talend.dataprofiler.core.ui.views.QuanlityView"
            id="org.talend.dataprofiler.core.ui.views.QuanlityView"
            name="Quality Indicator">
      </view>
      
    </extension> 
    
    <extension
         point="org.eclipse.ui.navigator.viewer">
       <viewer
             viewerId="org.talend.dataprofiler.core.ui.views.DQRespositoryView">        
       </viewer>
       <viewerContentBinding 
             viewerId="org.talend.dataprofiler.core.ui.views.DQRespositoryView">
          <includes>
       	      <contentExtension pattern="org.eclipse.ui.navigator.resourceContent" />		       	      
	          <contentExtension pattern="org.eclipse.ui.navigator.resources.filters.*"/>
          </includes>
       </viewerContentBinding>
       <viewerActionBinding
            viewerId="org.talend.dataprofiler.core.ui.views.DQRespositoryView">
         <includes>
             <actionExtension pattern="org.talend.dataprofiler.core.ui.action.provider.*" />
         </includes>
       </viewerActionBinding>     
   </extension>
<!-- Resource Content--> 
   <extension  
         point="org.eclipse.ui.navigator.navigatorContent">
     <!-- <navigatorContent
            name="%resource.extension.name"
            priority="low"
            icon="$nl$/icons/sample.gif"
            activeByDefault="true"
			            contentProvider="org.talend.componentdesigner.resources.ResourceExtensionContentProvider"
            			labelProvider="org.talend.componentdesigner.resources.ResourceExtensionLabelProvider"			
            id="org.talend.dataprofiler.core.ui.views.DQRespositoryView">         
        <enablement>
		         <or>         
		            <adapt type="org.eclipse.core.resources.IProject" /> 
		            <instanceof 
		                  	value="org.eclipse.core.resources.IResource" /> 
		         </or>
         </enablement>
         
        <actionProvider 
      			id="org.talend.componentdesigner.ui.action.CopyComponentActionProvider"
				class="org.talend.componentdesigner.ui.action.provider.CopyComponentActionProvider">
			<enablement>
				<or>
					<adapt type="org.eclipse.core.resources.IFolder" /> 	
				</or>
			</enablement>
		</actionProvider> 
             
      </navigatorContent> --> 
      <actionProvider
            	class="org.talend.dataprofiler.core.ui.action.provider.NewConnectionActionProvider"
            	id="org.talend.dataprofiler.core.ui.action.provider.NewConnectionActionProvider"> 
        	<enablement> 
        			<or>
						<adapt type="org.eclipse.core.resources.IResource" />	 
						<adapt type="java.util.Collection"> 
							<count value="0" />
						</adapt>
					</or>
	         </enablement>
		</actionProvider>      
   </extension>
    
      
     
     
  <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="org.talend.dataprofiler.core.ui.perspective.DataProfilingPerspective"
            id="org.talend.dataprofiler.DataProfilingPerspective"
            name="Data Profiling">
      </perspective>
   </extension>   
   
 <extension point="org.eclipse.ui.perspectiveExtensions">
  <perspectiveExtension
	targetID="org.talend.dataprofiler.DataProfilingPerspective">
    	<view id="org.talend.dataprofiler.core.ui.views.DQRespositoryView"
        	relative="org.eclipse.ui.editorss"
    		relationship="left"
    		ratio="0.45"
    		/>	
        <view id="org.talend.dataprofiler.core.ui.views.GraphsView"
             relative="org.eclipse.ui.editorss"
             relationship="bottom"
             ratio="0.4"
             />
        <view id="org.talend.dataprofiler.core.ui.views.CheatSheetView"
              relative="org.eclipse.ui.editorss"
              relationship="right"
              ratio="0.5"
              />
        <view id="org.talend.dataprofiler.core.ui.views.QuanlityView"
              relative="org.talend.dataprofiler.core.ui.views.CheatSheetView"
              relationship="bottom"
              />
  </perspectiveExtension>  
</extension>
  
   
   <extension
      point="org.talend.dataprofiler.core.dataprofilerperspectives">
        <DataprofilerPerspective
         refPerspectiveId="net.sourceforge.sqlexplorer.plugin.perspectives.SQLExplorerPluginPerspective"
         dataprofilerPerspectiveName="Data Discovery"/>
        <DataprofilerPerspective
         refPerspectiveId="org.talend.dataprofiler.DataProfilingPerspective"
         dataprofilerPerspectiveName="Data Profiling"/>
   </extension>

</plugin>
