<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
    <!--Connect to TalendForge-->
     <style type="text/css">
     body{ 
        background:white;
    }
    a:link,a:visited,a:hover{
       text-decoration:none;
    }

	 .textfield{
		width:100%;
		align:center;
		color:#999999; 
		font-size:14px; 
		height:26px; 
		line-height:20px;
		margin:1px 0px 1px 0px; 
	 }
	 
     .checkboxclass{
        padding-left:145px;
     }
	 .formHeaderClass{
	 }
	 .formHeaderClass td{
	  height: 30px;
	 }
	 .formBackgroundClass {
	  width: 85%;
	 }
	 table.formBackgroundClass {
	    background-color:#F5F5F5;
	    border:1px solid #909090;
	 }
	 .formClass {
	  width: 55%;
	 }
	 .formClass td{
	    border:0;
	 }

	 .errorInfoClass {
	  width: 100px;
	  align:center;
	  color:red;
	 }
     #container {width: 100%;}
     #image {width="30%"}
     #text  {float: left; width="70%"}
     .button {
            background:none repeat scroll 0 0 #b4c401;
            border-radius: 4px;
            color: white;
            padding:0 0 0 0;
            display: inline-block;
            font-size: 1.0em;
            font-weight: 600;
            padding-top: 10px;
			padding-bottom: 10px;
            vertical-align: center;
            width: 100%;
            height:18px;
			margin: 8px 0px 20px 0px;
     }
	 .bottomButton {
            background:none repeat scroll 0 0 #F5F5F5;
            color: gray;
            padding:0 0 0 0;
            display: inline-block;
            font-size: 1.0em;
            font-weight: 600;
            padding-top: 10px;
			padding-bottom: 10px;
            vertical-align: center;
            width: 100%;
            height:18px;
     }
	 .checkBoxStyles {
		padding: 8px 0px 0px 0px;
	 }
	 .navTopLine {
		border-bottom:1px solid #909090;
	 }
	 .navRightLine {
		border-right:1px solid #909090;
	 }
     #background { 
        border-style:solid;
        background-color: #E1DEDB;
        z-index: -100;
        width: 95%;
        height: 70%;
        margin: 10px;
     }
     input,select{vertical-align:center;} 
     .bottom{
             border-left :solid;
             border-top :solid;
             border-width:1px;
             alignment-adjust:auto;
             text-align:center;
         }

     </style>
     <script type="text/javascript">
	      
     var i18nMsg = [
     '<internationalization id="TalendForgeDialog.userNameLabel.tooltip"/>'
     ,'<internationalization id="TalendForgeDialog.emailLabel.tooltip"/>'
     ,'<internationalization id="TalendForgeDialog.passwordLabel.tooltip"/>'
     ,'<internationalization id="TalendForgeDialog.passwordAgainLabel.tooltip"/>'
	 ,'<internationalization id="TalendForgeDialog.form.userName.hint" />'
	 ,'<internationalization id="TalendForgeDialog.form.password.hint" />'
	 ,'<internationalization id="TalendForgeDialog.form.passwordAgain.hint" />'
	 ,'<internationalization id="TalendForgeDialog.form.email.hint" />'
     ]
	 
	 var textHintUserName=i18nMsg[4];
	 var textHintPassword=i18nMsg[5];
	 var textHintPasswordAgain=i18nMsg[6];
	 var textHintEmail=i18nMsg[7];
	 
	 var isCreateAccountUserNameOK = false;
	 var isCreateAccountPasswordOK = false;
	 var isCreateAccountPasswordAgainOK = false;
	 var isCreateAccountEmailOK = false;
	 
	 var isLoginAccountUserNameOK = false;
	 var isLoginAccountPasswordOK = false;
	 
	 function getCreateAccountUrl(){
		var urlPartConstant = "http://org.eclipse.ui.intro/runAction?pluginId=org.talend.registration&amp;class=org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeRegistAction&amp;id=org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeRegistAction&amp;type=CREATE_ACCOUNT&amp;";
		var urlPartName = "USER_NAME="+document.getElementById("name1").value+"&amp;";
		var urlPartEmail = "EMAIL="+document.getElementById("email").value+"&amp;";
		var urlPasswrod = "PASSWORD="+document.getElementById("password1").value+"&amp;";
	    var urlCountry = "COUNTRY="+document.getElementById("countrylistid").value+"&amp;";
		var urlImporve = "IS_HELP_IMPROVE="+document.getElementById("improve").checked;
		var url = urlPartConstant+urlPartName+urlPartEmail+urlPasswrod+urlCountry+urlImporve;
		return url;
	 }
	 
	 function getLoginAccountUrl(){
        var urlPartConstant = "http://org.eclipse.ui.intro/runAction?pluginId=org.talend.registration&amp;class=org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeRegistAction&amp;id=org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeRegistAction&amp;type=USE_EXSITING_ACCOUNT&amp;";
        var urlPartName = "USER_NAME="+document.getElementById("name2").value+"&amp;";
        var urlPasswrod = "PASSWORD="+document.getElementById("password3").value+"&amp;";
        var urlImporve = "IS_HELP_IMPROVE="+document.getElementById("improve2").checked;
        var url = urlPartConstant+urlPartName+urlPasswrod+urlImporve;
        return url;
     }
     
     function switchToView(viewId) {
        if (viewId == 'useExsitingAccountDiv') {
            document.getElementById('useExsitingAccountDiv').style.display = 'block';
            document.getElementById('createAccountDiv').style.display = 'none';
        } else {
            document.getElementById('useExsitingAccountDiv').style.display = 'none';
            document.getElementById('createAccountDiv').style.display = 'block';
        }
     }

	function checkUsername() {
		var value = document.getElementById('name1').value;											
		var isOK = false;
		if (value != "") {
			if (value.replace(/^\w+$/g, "") == "" ){
				isOK = true;
			}
		}
		
	    if (isOK){
	    	document.getElementById('userNameCreateErrorHint').style.display = 'none';
			document.getElementById('userNameCreateOKImage').style.display = 'block';
			isCreateAccountUserNameOK = true;
	    } else {
			document.getElementById('userNameCreateErrorHint').style.display = 'block';
			document.getElementById('userNameCreateOKImage').style.display = 'none';
			isCreateAccountUserNameOK = false;
		}
		refreshCreateAccountButtton();
	}

	function checkPassword() {
		var password = document.getElementById('password1');
		var pwd1ErrorHint = document.getElementById('pwd1ErrorHint');
		var pwd1OKImage = document.getElementById('pwd1OKImage');
		var regex = /^.+$/;
		if (regex.test(password.value)){
	        pwd1ErrorHint.style.display = 'none';
			pwd1OKImage.style.display = 'block';
			isCreateAccountPasswordOK = true;
		} else {
			pwd1ErrorHint.style.display = 'block';
		    pwd1OKImage.style.display = 'none';
			isCreateAccountPasswordOK = false;
		}
		refreshCreateAccountButtton();
	}

	function checkConfirm() {
		var passwordValue = document.getElementById('password1').value;	
		var confirmValue = document.getElementById('password2').value;	
		var isOK = false;
		if (passwordValue != '') {
			if (passwordValue == confirmValue) {
				isOK = true;
			}
		}
		if (isOK){
			document.getElementById('pwd2OKImage').style.display = 'block';
			document.getElementById('pwd2ErrorHint').style.display = 'none';
			isCreateAccountPasswordAgainOK = true;
		}else{
			document.getElementById('pwd2OKImage').style.display = 'none';
			document.getElementById('pwd2ErrorHint').style.display = 'block';
			isCreateAccountPasswordAgainOK = false;
		}
		refreshCreateAccountButtton();
	}

	function checkEmail() {
		window.location.href="http://org.eclipse.ui.intro/runAction?pluginId=org.talend.registration&amp;class=org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeRegistAction&amp;id=org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeRegistAction&amp;type=CHECK_EMAIL&amp;EMAIL=" + document.getElementById('email').value;
	}

	function checkLoginUsername() {
		var value = document.getElementById('name2').value;
		
		var isOK = false;
		if (value != "") {
			if (value.replace(/^\w+$/g, "") == "" ){
				isOK = true;
			}
		}

	    if (isOK){
	    	document.getElementById('userNameLoginErrorHint').style.display = 'none';
		    document.getElementById('userNameLoginOKImage').style.display = 'block';
			isLoginAccountUserNameOK = true;
	    } else {
			document.getElementById('userNameLoginErrorHint').style.display = 'block';
			document.getElementById('userNameLoginOKImage').style.display = 'none';
			isLoginAccountUserNameOK = false;
		}
		refreshLoginAccountButtton();
	}

	function checkLoginPassword() {
		var password = document.getElementById('password3');
		var passwordLoginErrorHint = document.getElementById('passwordLoginErrorHint');
		var passwordLoginOKImage = document.getElementById('passwordLoginOKImage');
		var regex = /^.+$/;
		if (regex.test(password.value)){
	        passwordLoginErrorHint.style.display='none';
			passwordLoginOKImage.style.display='block';
			isLoginAccountPasswordOK = true;
		} else {
	        passwordLoginErrorHint.style.display='block';
			passwordLoginOKImage.style.display='none';
			isLoginAccountPasswordOK = false;
		}
		refreshLoginAccountButtton();
	}	
	
	function manageCreatePasswordField(isOnFocus) {
		managePasswordField(document.getElementById('password1Text'),document.getElementById('password1'), isOnFocus);
	}
	
	function manageCreatePasswordAgainField(isOnFocus) {
		managePasswordField(document.getElementById('password2Text'),document.getElementById('password2'), isOnFocus);
	}
		
	function manageLoginPasswordField(isOnFocus) {
		managePasswordField(document.getElementById('password3Text'),document.getElementById('password3'), isOnFocus);
	}

	function managePasswordField(textInput, pwdInput, isOnFocus) {
		
		if (pwdInput.style.display == 'block') {
			if (isOnFocus == false) {
		    if(pwdInput.value == '') {
			pwdInput.style.display = 'none';
			textInput.style.display = 'block';
			}
			}
		} else if (textInput.style.display == 'block') {
			pwdInput.style.display = 'block';
			textInput.style.display = 'none';
			pwdInput.focus();
		}
	}
	
	function refreshCreateAccountButtton() {
		if (isCreateAccountInfoOK()) {
			document.getElementById('createAccountButton').disabled=false;
		} else {
			document.getElementById('createAccountButton').disabled=true;
		}
	}
	
	function isCreateAccountInfoOK() {
		if (document.getElementById('agree').checked == false) {
			return false;
		}
		if (isCreateAccountUserNameOK == false) {
			return false;
		}
		if (isCreateAccountPasswordOK == false) {
			return false;
		}
		if (isCreateAccountPasswordAgainOK == false) {
			return false;
		}
		if (isCreateAccountEmailOK == false) {
			return false;
		}
		return true;
	}
	
	function refreshLoginAccountButtton() {
		if (isLoginAccountInfoOK()) {
			document.getElementById('loginAcccountButton').disabled = false;
		} else {
			document.getElementById('loginAcccountButton').disabled = true;
		}
	}
	
	function isLoginAccountInfoOK() {
		if (isLoginAccountUserNameOK == false) {
			return false;
		}
		if (isLoginAccountPasswordOK == false) {
			return false;
		}
		return true;
	}
	
     </script>
 </head>
<body> 
    <form method="post" action="">
    <table align="center"><tbody>
    <tr>
      <td colspan="2"><font style="font-size:21px"><span><internationalization id="TalendForgeDialog.labelTitle.part1" /> <b><internationalization id="TalendForgeDialog.labelTitle.part2" /></b></span></font></td>
    </tr>
    <tr>
      <td>
                  <ul>
                        <li style="font-size:14px"><internationalization id="TalendForgeDialog.labelMessageOne1" /><b><internationalization id="TalendForgeDialog.labelMessageOne2" /></b><internationalization id="TalendForgeDialog.labelMessageOne3" /></li>
                        <br/><br/>
                        <li style="font-size:14px"><internationalization id="TalendForgeDialog.labelMessageTwo1" /> <b><internationalization id="TalendForgeDialog.labelMessageTwo2" /></b> <internationalization id="TalendForgeDialog.labelMessageTwo3" /></li>
                        <br/><br/>
                        <li style="font-size:14px"><internationalization id="TalendForgeDialog.labelMessageThree1" /> <b><internationalization id="TalendForgeDialog.labelMessageThree2" /></b></li>
                        <br/>
                  </ul>
      </td>
      <td>
                 <contentProvider id="TALEND_FORGE_IMAGE" class="org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeProvider" pluginId="org.talend.registration"></contentProvider>
      </td>
    </tr>
    <tr>
      <td colspan="2" style="align:center;">
          <table align="center" id="createAccountDiv" border="0" cellspacing="0" cellpadding="0" class="formBackgroundClass" style="display:block;"><tbody>
		  <tr><td colspan="2" class="navTopLine">
		  <table align="center" class="formClass">
		  <tbody>
		     <tr class="formHeaderClass"><td colspan="3" ></td></tr>
             <tr><td class="errorInfoClass"></td><td width="100%">
                <input class="textfield"  style="border-radius:5px;" type="text" name="Username" id="name1" alt="" onfocus="if(this.value==textHintUserName){this.value='';}" onkeyup="checkUsername();" onblur="if(this.value==''){this.value=textHintUserName;}" value="Username"/>
                </td><td class="errorInfoClass">
                   <div id="userNameCreateErrorHint" style="display:block">*</div>
                   <div id="userNameCreateOKImage" style="display:none">
                         <contentProvider id="OK_HINT_IMAGE" class="org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeProvider" pluginId="org.talend.registration"></contentProvider>
                   </div>
             </td></tr>
             <tr><td></td><td>
                <input class="textfield"  style="border-radius:5px;" type="text" id="email" name="Email"  onkeyup="checkEmail();" onfocus="if(this.value==textHintEmail){this.value='';}" onblur="if(this.value==''){this.value=textHintEmail;}" value="Email"/>
                </td><td class="errorInfoClass">
                <div>
                   <div id="emailErrorHint" style="display:block">*</div>
                   <div id="emailOKImage" style="display:none">
                         <contentProvider id="OK_HINT_IMAGE" class="org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeProvider" pluginId="org.talend.registration"></contentProvider>
                   </div>
                </div>
             </td></tr>
             <tr><td></td><td>
			    <input class="textfield" id="password1Text" onfocus="manageCreatePasswordField(true)" style="border-radius:5px;display:block;" type="text" value="Password"/>
                <input class="textfield" id="password1" onblur="manageCreatePasswordField(false)"  name="Password" onkeyup="checkPassword();checkConfirm();" style="border-radius:5px;display:none;" type="password"/>
             </td><td class="errorInfoClass">
               <div>
                   <div id="pwd1ErrorHint" style="display:block">*</div>
                   <div id="pwd1OKImage" style="display:none">
                         <contentProvider id="OK_HINT_IMAGE" class="org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeProvider" pluginId="org.talend.registration"></contentProvider>
                   </div>
                </div>
             </td></tr>
             <tr><td></td><td>
				<input class="textfield" id="password2Text" onfocus="manageCreatePasswordAgainField(true)" style="border-radius:5px;display:block;" type="text" value="Password again"/>
                <input class="textfield" id="password2" onblur="manageCreatePasswordAgainField(false)"  name="Password" onkeyup="checkConfirm();" style="border-radius:5px;display:none;" type="password"/>
             </td><td class="errorInfoClass">
                   <div>
                       <div id="pwd2ErrorHint" style="display:block">*</div>
                       <div id="pwd2OKImage" style="display:none">
                             <contentProvider id="OK_HINT_IMAGE" class="org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeProvider" pluginId="org.talend.registration"></contentProvider>
                       </div>
                    </div>
             </td></tr>
             <tr><td></td><td>
                    <select class="textfield" id="countrylistid" style="border-radius:5px;width:100%" name="select" >
                     <contentProvider id="INSERT_DATA" class="org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeProvider" pluginId="org.talend.registration"></contentProvider>
                    </select>
             </td><td></td></tr>
             <tr><td></td><td colspan="2" class="checkBoxStyles">
             <input type="checkbox" class="checkbox" name="checkbox1" id="agree" onclick="refreshCreateAccountButtton();" ><font style="font-size:12px"><internationalization id="TalendForgeDialog.agreeButtonPart1" /><a href="http://www.talendforge.org/Talend_Contributor_Agreement.txt" target="_blank"><internationalization id="TalendForgeDialog.agreeButtonPart2" /></a></font></input>
             </td></tr>
             <tr><td></td><td colspan="2">
             <input type="checkbox" class="checkbox"  name="checkbox2" id="improve" checked="checked" /><font style="font-size:12px"><internationalization id="TalendForgeDialog.improveButton" /></font>
            </td></tr>
            <tr><td class="errorInfoClass"></td><td style="width:100%">
			  <div style="width:100%">
              <a id="createAccountButton" class="button" style="text-align:center;" onClick="window.location.href=getCreateAccountUrl()" disabled="disabled" href="#"><internationalization id="TalendForgeDialog.createAccountButton.v1" /></a>
			  </div>
            </td><td class="errorInfoClass"></td></tr>
			</tbody>
			 </table>
			 </td></tr>
			 <tr><td width="50%" class="navRightLine">
                 <a style="text-align:center;" href="#" class="bottomButton" onClick="switchToView('useExsitingAccountDiv')"><internationalization id="TalendForgeDialog.ConnectExistingButton" /></a>
               </td>
               <td widht="50%">
                 <a style="text-align:center;" class="bottomButton" href="http://org.eclipse.ui.intro/runAction?pluginId=org.talend.registration&amp;class=org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeRegistAction&amp;id=org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeRegistAction&amp;type=SKIP"><internationalization id="TalendForgeDialog.skipButton.v1" /></a>
			   </td>
			 </tr>
			 </tbody>
          </table>
      <table id="useExsitingAccountDiv" border="0" cellspacing="0" cellpadding="0"  align="center"  class="formBackgroundClass" style="display:none;" ><tbody>
	      <tr class="formHeaderClass"><td colspan="2" ></td></tr>
		  <tr><td colspan="2" class="navTopLine">
		  <table align="center" class="formClass">
		  <tbody>
	  <tr><td class="errorInfoClass"></td><td style="width:100%">
               <input class="textfield"  style="border-radius:5px;" type="text" name="Username" id="name2" onfocus="if(this.value==textHintUserName){this.value='';}" onkeyup="checkLoginUsername();" onblur="if(this.value==''){this.value=textHintUserName;}" value="Username"/>
			   </td>
			   <td class="errorInfoClass">
                   <div id="userNameLoginErrorHint" style="display:block">*</div>
                   <div id="userNameLoginOKImage" style="display:none">
                         <contentProvider id="OK_HINT_IMAGE" class="org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeProvider" pluginId="org.talend.registration"></contentProvider>
                   </div>
				</td>
	  </tr>
      <tr>
	  <td></td><td>
			   	<input class="textfield" id="password3Text" onfocus="manageLoginPasswordField(true)" style="border-radius:5px;display:block;" type="text" value="Password"/>
                <input class="textfield" id="password3" onblur="manageLoginPasswordField(false)"  name="Password" onkeyup="checkLoginPassword();" style="border-radius:5px;display:none;" type="password"/>
			   </td>
			   <td class="errorInfoClass">
                   <div id="passwordLoginErrorHint" style="display:block">*</div>
                   <div id="passwordLoginOKImage" style="display:none">
                         <contentProvider id="OK_HINT_IMAGE" class="org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeProvider" pluginId="org.talend.registration"></contentProvider>
                   </div>
               </td>
      </tr>
      <tr>
	  <td></td><td colspan="2" class="checkBoxStyles">
             <input type="checkbox" id="improve2" class="checkbox" name="checkbox1" checked="checked" /><font style="font-size:12px"><internationalization id="TalendForgeDialog.improveButton" /></font>
             </td>
	  </tr>
	  <tr><td class="errorInfoClass"></td>
			 <td style="width:100%">
			 <div style="width:100%">
              <a id="loginAcccountButton"  class="button" style="text-align:center;" onClick="window.location.href=getLoginAccountUrl()" disabled="disabled" href="#"><internationalization id="TalendForgeDialog.connectButton.v1" /></a>
			  </div>
             </td><td class="errorInfoClass"></td>
	  </tr>
	  </tbody>
      </table></td></tr>
	  <tr>
	  <td width="50%" class="navRightLine">
       <a style="text-align:center;" href="#" class="bottomButton" onClick="switchToView('createAccountDiv')"><internationalization id="TalendForgeDialog.ConnectNewButton" /></a>
      </td>
		<td width="50%">
           <a style="text-align:center;" class="bottomButton" href="http://org.eclipse.ui.intro/runAction?pluginId=org.talend.registration&amp;class=org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeRegistAction&amp;id=org.talend.registration.wizards.register.ui.htmlcontent.TalendForgeRegistAction&amp;type=SKIP"><internationalization id="TalendForgeDialog.skipButton.v1" /></a>
		</td>
	  </tr>
	  </tbody></table>
	  </td>
    </tr></tbody>
    </table>
</form>
     <script type="text/javascript">
     document.getElementById('userNameCreateErrorHint').setAttribute('title', i18nMsg[0]);
     document.getElementById('emailErrorHint').setAttribute('title', i18nMsg[1]);
     document.getElementById('pwd1ErrorHint').setAttribute('title', i18nMsg[2]);
     document.getElementById('pwd2ErrorHint').setAttribute('title', i18nMsg[3]);
     document.getElementById('userNameLoginErrorHint').setAttribute('title', i18nMsg[0]);
     document.getElementById('passwordLoginErrorHint').setAttribute('title', i18nMsg[2]);
     
	 document.getElementById('name1').value=textHintUserName;
	 document.getElementById('name2').value=textHintUserName;
	 document.getElementById('password1Text').value=textHintPassword;
	 document.getElementById('password3Text').value=textHintPassword;
	 document.getElementById('password2Text').value=textHintPasswordAgain;
	 document.getElementById('email').value=textHintEmail;
     </script>
</body>
</html>
